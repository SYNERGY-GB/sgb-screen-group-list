<ion-view view-title="{{ title | translate }}" class="appBackground">
    <ion-content>
        <div class="searchBarView card item-input-inset" ng-show="showSearch">
            <label class="searchField item-input-wrapper">
                <i class="icon ion-ios-search placeholder-icon"></i>
                <input type="search" placeholder="{{ 'list_search' | translate }}" data-ng-model="searchQuery.value" 
                       ng-change="filterItems(searchQuery.value)">
            </label>
            <button class="button button-clear" type="button" data-ng-click="cancelSearch()">
                <i class="icon ion-close-circled searchCancelButton"></i>
            </button>
        </div>

        <div class="list opaque"  ng-repeat="section in sections"
             ng-show="section.filteredItems.length"> 

            <div class="row row-center text-center item item-divider item-text-wrap"> 
                <img class="col col-25" ng-src="{{section.image}}"> 
                <p class="col col-75">{{section.header}} </p> 
            </div> 

            <mz-template class="item-text-wrap" ng-repeat="item in section.filteredItems" 
                bind-to="item" template-type="_screenParams.templateType" screen-params="_screenParams" 
                ng-click="itemClickHandler(item)" > 
            </mz-template>
           
        </div>
        
        <div class="card" ng-show="!totalFilteredSections">
            <div class="item item-text-wrap">
                {{'empty_search' | translate }}
            </div>
        </div>
        
    </ion-content>
</ion-view>